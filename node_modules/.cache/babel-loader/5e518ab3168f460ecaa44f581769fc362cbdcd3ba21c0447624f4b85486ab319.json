{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nconst useUpdate = (name, propsFunction, other) => {\n  _s();\n  let [updatedTime, setUpdatedTime] = useState(window.lastUpdatedTime[name]);\n  useEffect(() => {\n    window.setLastUpdatedTime[name] = setUpdatedTime;\n  }, []);\n  useEffect(() => {\n    propsFunction(name, other);\n    console.log(updatedTime);\n  }, [updatedTime]);\n};\n_s(useUpdate, \"LYB82rEN6rg+gL9gfIMit1X5e5U=\");\nif (!(window.data === undefined)) {\n  console.log(\"data has been defined in window object\");\n} else {\n  window.data = {};\n}\nif (!(window.tempData === undefined)) {\n  console.log(\"data has been defined in window object\");\n} else {\n  window.tempData = {};\n}\nif (!(window.lastUpdatedTime === undefined)) {\n  console.log(\"lastUpdatedTime has been defined in window object\");\n} else {\n  window.lastUpdatedTime = {};\n}\nif (!(window.setLastUpdatedTime === undefined)) {\n  console.log(\"setLastUpdatedTime has been defined in window object\");\n} else {\n  window.setLastUpdatedTime = {\n    suggestedNovels: \"\",\n    selectedTranslationNovels: \"\",\n    updatedNovels: \"\",\n    fullNovels: \"\",\n    leftOfShortNovel: \"\",\n    rightOfShortNovels: \"\",\n    reviewNovels: \"\",\n    topGoodNovels: \"\",\n    newUpdateNovels: \"\",\n    trendNovelsInMonth: \"\"\n  };\n}\nconst requestGetSynchronized = (request, url) => {\n  request.open(\"GET\", url, false);\n  request.send();\n  return request.responseText;\n};\nconst propsSuggestedNovels = suggestedNovels => {\n  let length = Math.ceil(suggestedNovels.length / 3);\n  let carousels = new Array(length);\n  for (let i = 0; i < length; i++) {\n    carousels[i] = {\n      cssCarousel: \"carousel-item\",\n      novels: []\n    };\n  }\n  length = suggestedNovels.length;\n  for (let i = 0; i < length; i++) {\n    suggestedNovels[i].image = require(\"./images/\" + suggestedNovels[i].image);\n    titleNovel_(suggestedNovels[i]);\n    carousels[Math.floor(i / 3)].novels.push(suggestedNovels[i]);\n  }\n  carousels[0].cssCarousel = \"carousel-item active\";\n  window.data.suggestedNovels = carousels;\n};\nconst propsShowNovels = (data, name) => {\n  for (let i = 0; i < data[name].length; i++) {\n    data[name][i].image = require(\"./images/\" + data[name][i].image);\n  }\n  data[name].forEach(titleNovel_);\n  window.data[name] = data[name];\n};\nconst propsUpdatedNovels = updatedNovels => {\n  updatedNovels.forEach(titleNovel_);\n  window.data.updatedNovels = updatedNovels;\n};\nconst titleNovel_ = novel => {\n  novel.title = novel.before !== \"\" ? novel.before + \" \" + novel.name : novel.name;\n  novel.title = novel.after !== \"\" ? novel.title + \" \" + novel.after : novel.title;\n};\nconst propsShortNovels = data => {\n  data.leftOfShortNovel.image = require(\"./images/\" + data.leftOfShortNovel.image);\n  window.data.leftOfShortNovel = data.leftOfShortNovel;\n  propsSimpleListOfNovels(data, \"rightOfShortNovels\", \"d-flex pb-short-novel\");\n};\nconst propsSimpleListOfNovels = (data, name, cssContainer) => {\n  for (let i = 0; i < data[name].length; i++) {\n    data[name][i].image = require(\"./images/\" + data[name][i].image);\n    data[name][i].cssContainer = cssContainer;\n  }\n  window.data[name] = data[name];\n};\nconst propsNovelsList = (data, name) => {\n  let numberNovels = data[name].length;\n  let count = numberNovels.toString().length;\n  let novel;\n  for (let i = 0; i < numberNovels; i++) {\n    novel = data[name][i];\n    novel.rank = i + 1 + \"\";\n    novel.rank = novel.rank.padStart(count, \"0\");\n    novel.cssRank = \"rank text-under-r-3\";\n  }\n  data[name][0].cssRank = \"rank text-r-1\";\n  data[name][1].cssRank = \"rank text-r-2\";\n  data[name][2].cssRank = \"rank text-r-3\";\n  window.data[name] = data[name];\n};\nlet request = new XMLHttpRequest();\nlet text = requestGetSynchronized(request, \"data.json\"); //data.json is located in public folder\nlet json = JSON.parse(text);\nlet data = json.data;\npropsSuggestedNovels(data.suggestedNovels);\npropsShowNovels(data, \"selectedTranslationNovels\");\npropsUpdatedNovels(data.updatedNovels);\npropsShowNovels(data, \"fullNovels\");\npropsShortNovels(data);\npropsSimpleListOfNovels(data, \"reviewNovels\", \"d-flex p-short-novel\");\npropsNovelsList(data, \"topGoodNovels\");\npropsNovelsList(data, \"newUpdateNovels\");\nwindow.data.trendNovelsInMonth = data.trendNovelsInMonth;\nwindow.lastUpdatedTime = json.lastUpdatedTime;","map":{"version":3,"names":["useState","useEffect","useUpdate","name","propsFunction","other","_s","updatedTime","setUpdatedTime","window","lastUpdatedTime","setLastUpdatedTime","console","log","data","undefined","tempData","suggestedNovels","selectedTranslationNovels","updatedNovels","fullNovels","leftOfShortNovel","rightOfShortNovels","reviewNovels","topGoodNovels","newUpdateNovels","trendNovelsInMonth","requestGetSynchronized","request","url","open","send","responseText","propsSuggestedNovels","length","Math","ceil","carousels","Array","i","cssCarousel","novels","image","require","titleNovel_","floor","push","propsShowNovels","forEach","propsUpdatedNovels","novel","title","before","after","propsShortNovels","propsSimpleListOfNovels","cssContainer","propsNovelsList","numberNovels","count","toString","rank","padStart","cssRank","XMLHttpRequest","text","json","JSON","parse"],"sources":["D:/Code/Web/DocTruyenOnlineUpdateReactJS_update/src/updatedData.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useUpdate = (name, propsFunction, other) => {\r\n    let [updatedTime, setUpdatedTime] = useState(window.lastUpdatedTime[name]);\r\n    useEffect(() => {\r\n        window.setLastUpdatedTime[name] = setUpdatedTime;\r\n    }, []);\r\n    useEffect(() => {\r\n        propsFunction(name, other);console.log(updatedTime);\r\n    }, [updatedTime]);\r\n}\r\n\r\nif (!(window.data === undefined)) {\r\n    console.log(\"data has been defined in window object\");\r\n} else {\r\n    window.data = {};\r\n}\r\n\r\nif (!(window.tempData === undefined)) {\r\n    console.log(\"data has been defined in window object\");\r\n} else {\r\n    window.tempData = {};\r\n}\r\n\r\nif (!(window.lastUpdatedTime === undefined)) {\r\n    console.log(\"lastUpdatedTime has been defined in window object\");\r\n} else {\r\n    window.lastUpdatedTime = {};\r\n}\r\n\r\nif (!(window.setLastUpdatedTime === undefined)) {\r\n    console.log(\"setLastUpdatedTime has been defined in window object\");\r\n} else {\r\n    window.setLastUpdatedTime = {\r\n        suggestedNovels: \"\", selectedTranslationNovels: \"\", updatedNovels: \"\", fullNovels: \"\", leftOfShortNovel: \"\", rightOfShortNovels: \"\", \r\n        reviewNovels: \"\", topGoodNovels: \"\", newUpdateNovels: \"\", trendNovelsInMonth: \"\"\r\n    };\r\n}\r\n\r\nconst requestGetSynchronized = (request, url) => {\r\n    request.open(\"GET\", url, false);\r\n    request.send();\r\n\r\n    return request.responseText;\r\n}\r\n\r\nconst propsSuggestedNovels = (suggestedNovels) => {\r\n    let length = Math.ceil(suggestedNovels.length/3);\r\n    let carousels = new Array(length);\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        carousels[i] = {cssCarousel: \"carousel-item\", novels: []};\r\n    }\r\n\r\n    length = suggestedNovels.length;\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        suggestedNovels[i].image = require(\"./images/\" + suggestedNovels[i].image);\r\n        titleNovel_(suggestedNovels[i]);\r\n        carousels[Math.floor(i/3)].novels.push(suggestedNovels[i]);\r\n    }\r\n\r\n    carousels[0].cssCarousel = \"carousel-item active\";\r\n\r\n    window.data.suggestedNovels = carousels;\r\n}\r\n\r\nconst propsShowNovels = (data, name) => {\r\n    for (let i = 0; i < data[name].length; i++) {\r\n        data[name][i].image = require(\"./images/\" + data[name][i].image);\r\n    }\r\n\r\n    data[name].forEach(titleNovel_);\r\n\r\n    window.data[name] = data[name];\r\n}\r\n\r\nconst propsUpdatedNovels = updatedNovels => {\r\n    updatedNovels.forEach(titleNovel_);\r\n\r\n    window.data.updatedNovels = updatedNovels;\r\n}\r\n\r\nconst titleNovel_ = novel => {\r\n    novel.title = (novel.before !== \"\") ? (novel.before + \" \" + novel.name) : novel.name;\r\n    novel.title = (novel.after !== \"\") ? (novel.title + \" \" + novel.after) : novel.title;\r\n}\r\n\r\nconst propsShortNovels = data => {\r\n    data.leftOfShortNovel.image = require(\"./images/\" + data.leftOfShortNovel.image);\r\n    window.data.leftOfShortNovel = data.leftOfShortNovel;\r\n\r\n    propsSimpleListOfNovels(data, \"rightOfShortNovels\", \"d-flex pb-short-novel\");\r\n}\r\n\r\nconst propsSimpleListOfNovels = (data, name, cssContainer) => {\r\n    for (let i = 0; i < data[name].length; i++) {\r\n        data[name][i].image = require(\"./images/\" + data[name][i].image);\r\n        data[name][i].cssContainer = cssContainer;\r\n    }\r\n\r\n    window.data[name] = data[name];\r\n}\r\n\r\nconst propsNovelsList = (data, name) => {\r\n    let numberNovels = data[name].length;\r\n    let count = numberNovels.toString().length;\r\n    let novel;\r\n\r\n    for (let i = 0; i < numberNovels; i++) {\r\n        novel = data[name][i];\r\n        novel.rank = (i + 1) + \"\";\r\n        novel.rank = novel.rank.padStart(count, \"0\");\r\n        novel.cssRank = \"rank text-under-r-3\";\r\n    }\r\n\r\n    data[name][0].cssRank = \"rank text-r-1\";\r\n    data[name][1].cssRank = \"rank text-r-2\";\r\n    data[name][2].cssRank = \"rank text-r-3\";\r\n\r\n    window.data[name] = data[name];\r\n}\r\n\r\nlet request = new XMLHttpRequest();\r\nlet text = requestGetSynchronized(request, \"data.json\");//data.json is located in public folder\r\nlet json = JSON.parse(text);\r\nlet data = json.data;\r\n\r\npropsSuggestedNovels(data.suggestedNovels);\r\npropsShowNovels(data, \"selectedTranslationNovels\");\r\npropsUpdatedNovels(data.updatedNovels);\r\npropsShowNovels(data, \"fullNovels\");\r\npropsShortNovels(data);\r\npropsSimpleListOfNovels(data, \"reviewNovels\", \"d-flex p-short-novel\");\r\npropsNovelsList(data, \"topGoodNovels\");\r\npropsNovelsList(data, \"newUpdateNovels\");\r\nwindow.data.trendNovelsInMonth = data.trendNovelsInMonth;\r\n\r\nwindow.lastUpdatedTime = json.lastUpdatedTime;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}